<!doctype html>
<html>
<head>
    <title>Daily Caloric Intake</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css">
    <link rel="stylesheet" href="/Savage-Authentication/savage-auth/public/style.css">
</head>
<body>
<div class="container">

    <div class="page-header text-center">
        <h1><span class="fa fa-anchor"></span> Profile Page</h1>
        <a href="/logout" class="btn btn-default btn-sm">Logout</a>
    </div>

    <div class="row">

  <h1>Find Out Your Daily Caloric Intake To Achieve Your Lifestyle Goals!</h1>

  <h3>Enter your information below to start your journey!</h3>


  <!--INITIAL INPUT FORM-->

  <% if (user.local.email) { %>
    <form action="/api/user" method="POST">

      <!--BMR start-->
      <!--Age- drop down (years)-->
      <label for="age">Age:</label>

      <select name="age" id="age">
        <option value="18">18</option>
        <option value="19">19</option>
        <option value="20">20</option>
        <option value="21">21</option>
        <option value="22">22</option>
        <option value="23">23</option>
        <option value="24">24</option>
        <option value="25">25</option>
        <option value="26">26</option>
        <option value="27">27</option>
        <option value="28">28</option>
        <option value="29">29</option>
        <option value="30">30</option>
        <option value="31">31</option>
        <option value="32">32</option>
        <option value="33">33</option>
        <option value="34">34</option>
        <option value="35">35</option>
        <option value="36">36</option>
        <option value="37">37</option>
        <option value="38">38</option>
        <option value="39">39</option>
        <option value="40">40</option>
        <option value="41">41</option>
        <option value="42">42</option>
        <option value="43">43</option>
        <option value="44">44</option>
        <option value="45">45</option>
        <option value="46">46</option>
        <option value="47">47</option>
        <option value="48">48</option>
        <option value="49">49</option>
        <option value="50">50</option>
        <option value="51">51</option>
        <option value="52">52</option>
      </select>

      <!--Sex- drop down -->
      <label for="sex">Sex:</label>
      <select name="sex" id="sex">
        <option value="female">Female</option>
        <option value="male">Male</option>
      </select>

      <!--Height- text (inches)-->
      <label for="height">Height (in inches):</label>
      <input type="text"  name="height" id="height" placeholder="72">
      <span>inches</span>

      <!--Weight- drop down (lbs)-->
      <label for="weight">Weight (in lbs):</label>
      <input type="text"  name="weight" id="weight" placeholder="180">
      <span>lbs</span>
      <!--BMR ends-->

      <!--TDEE start-->
      <!--Activity- drop down -->
      <label for="activity">Activity Level:</label>
      <select name="activity" id="activity">
        <option value="1.2">Sedentary (little to no exercise)</option>
        <option value="1.375">Lightly active (light exercise or physical activity 1-3 days per week)</option>
        <option value="1.55">Moderately active (moderate exercise or physical activity 3-5 days per week)</option>
        <option value="1.725">Very active (hard exercise or physical activity 6-7 days per week)</option>
        <option value="1.9">Extremely active (very intense exercise, physical job, or training twice per day)</option>
      </select>
      <!--TDEE ends-->

      <!--Weight goal- drop down-->
      <label for="goalAction">Weight goal:</label>
      <select name="goalAction" id="goalAction">
        <option value="maintain-goal">Maintain current weight</option>
        <option value="lose-goal-one-to-two">Lose weight: 1-2 lbs per week (caloric deficit of 500-1000 calories/day)</option>
        <option value="lose-goal-half-pound">Lose weight: 0.5 lbs per week (smaller caloric deficit of ~250 calories/day)</option>
        <option value="gain-weight-one-to-two">Gain weight: 1-2 lbs per week (caloric surplus of 500-1000 calories/day)</option>
        <option value="gain-weight-half-pound">Gain weight: 0.5 lbs per week (smaller caloric surplus of ~250 calories/day)</option>
      </select>

      <button type="submit">Submit</button>
    </form>
  </div>

  <button id="openModalBtn">Update Caloric Intake</button>
  <div id="caloricIntakeModal" class="modal">
    <div class="modal-content">
      <span class="close-btn">&times;</span>
      <h2>Update Caloric Intake</h2>
      
      <form id="update-caloric-intake-form">

        <!--BMR start-->
      <!--Age- drop down (years)-->
      <label for="age">Age:</label>

      <select name="age" id="age">
        <option value="18">18</option>
        <option value="19">19</option>
        <option value="20">20</option>
        <option value="21">21</option>
        <option value="22">22</option>
        <option value="23">23</option>
        <option value="24">24</option>
        <option value="25">25</option>
        <option value="26">26</option>
        <option value="27">27</option>
        <option value="28">28</option>
        <option value="29">29</option>
        <option value="30">30</option>
        <option value="31">31</option>
        <option value="32">32</option>
        <option value="33">33</option>
        <option value="34">34</option>
        <option value="35">35</option>
        <option value="36">36</option>
        <option value="37">37</option>
        <option value="38">38</option>
        <option value="39">39</option>
        <option value="40">40</option>
        <option value="41">41</option>
        <option value="42">42</option>
        <option value="43">43</option>
        <option value="44">44</option>
        <option value="45">45</option>
        <option value="46">46</option>
        <option value="47">47</option>
        <option value="48">48</option>
        <option value="49">49</option>
        <option value="50">50</option>
        <option value="51">51</option>
        <option value="52">52</option>
      </select>

      <!--Sex- drop down -->
      <label for="sex">Sex:</label>
      <select name="sex" id="sex">
        <option value="female">Female</option>
        <option value="male">Male</option>
      </select>

      <!--Height- text (inches)-->
      <label for="height">Height (in inches):</label>
      <input type="text"  name="height" id="height" placeholder="72">
      <span>inches</span>

      <!--Weight- drop down (lbs)-->
      <label for="weight">Weight (in lbs):</label>
      <input type="text"  name="weight" id="weight" placeholder="180">
      <span>lbs</span>
      <!--BMR ends-->

      <!--TDEE start-->
      <!--Activity- drop down -->
      <label for="activity">Activity Level:</label>
      <select name="activity" id="activity">
        <option value="1.2">Sedentary (little to no exercise)</option>
        <option value="1.375">Lightly active (light exercise or physical activity 1-3 days per week)</option>
        <option value="1.55">Moderately active (moderate exercise or physical activity 3-5 days per week)</option>
        <option value="1.725">Very active (hard exercise or physical activity 6-7 days per week)</option>
        <option value="1.9">Extremely active (very intense exercise, physical job, or training twice per day)</option>
      </select>
      <!--TDEE ends-->

      <!--Weight goal- drop down-->
      <label for="goalAction">Weight goal:</label>
      <select name="goalAction" id="goalAction">
        <option value="maintain-goal">Maintain current weight</option>
        <option value="lose-goal-one-to-two">Lose weight: 1-2 lbs per week (caloric deficit of 500-1000 calories/day)</option>
        <option value="lose-goal-half-pound">Lose weight: 0.5 lbs per week (smaller caloric deficit of ~250 calories/day)</option>
        <option value="gain-weight-one-to-two">Gain weight: 1-2 lbs per week (caloric surplus of 500-1000 calories/day)</option>
        <option value="gain-weight-half-pound">Gain weight: 0.5 lbs per week (smaller caloric surplus of ~250 calories/day)</option>
      </select>

        <button type="submit">Update</button>
      </form>
    </div>
  </div>




  <div>
    <h2>Results</h2>
  
    <% if (locals['caloric-intake-gen'] && locals['caloric-intake-gen'].length > 0) { %>
      <% const caloricData = locals['caloric-intake-gen'][locals['caloric-intake-gen'].length - 1]; %> <!-- '-1' grabs the last object -->
      <p><strong>BMR:</strong> <%= caloricData.bmr %> calories/day</p>
      <p><strong>TDEE:</strong> <%= caloricData.tdee %> calories/day</p>
      <p><strong>Daily Calories for Your Goal:</strong> <%= caloricData.dailyCalories %> calories/day</p>
    <% } else { %>
      <p>No data available.</p>
    <% } %>
  </div>
  



  <% } %>

      

</div>

<script src="/main.js"></script>

</body>
</html>
